{"remainingRequest":"/Users/kaiurban/Projekte/own_projects/vue-website/node_modules/babel-loader/lib/index.js!/Users/kaiurban/Projekte/own_projects/vue-website/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kaiurban/Projekte/own_projects/vue-website/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kaiurban/Projekte/own_projects/vue-website/node_modules/vue-material/src/components/MdField/MdFile/MdFile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kaiurban/Projekte/own_projects/vue-website/node_modules/vue-material/src/components/MdField/MdFile/MdFile.vue","mtime":499162500000},{"path":"/Users/kaiurban/Projekte/own_projects/vue-website/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kaiurban/Projekte/own_projects/vue-website/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/kaiurban/Projekte/own_projects/vue-website/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kaiurban/Projekte/own_projects/vue-website/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMva2FpdXJiYW4vUHJvamVrdGUvb3duX3Byb2plY3RzL3Z1ZS13ZWJzaXRlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE1kVXVpZCBmcm9tICdjb3JlL3V0aWxzL01kVXVpZCc7CmltcG9ydCBNZEZpbGVJY29uIGZyb20gJ2NvcmUvaWNvbnMvTWRGaWxlSWNvbic7CmltcG9ydCBNZEZpZWxkTWl4aW4gZnJvbSAnLi4vTWRGaWVsZE1peGluJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdNZEZpbGUnLAogIGNvbXBvbmVudHM6IHsKICAgIE1kRmlsZUljb246IE1kRmlsZUljb24KICB9LAogIHByb3BzOiB7CiAgICBpZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiAnbWQtZmlsZS0nICsgTWRVdWlkKCk7CiAgICAgIH0KICAgIH0sCiAgICBuYW1lOiBTdHJpbmcKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpY29uQ2xhc3M6IGZ1bmN0aW9uIGljb25DbGFzcygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAnbWQtZGlzYWJsZWQnOiB0aGlzLmRpc2FibGVkCiAgICAgIH07CiAgICB9CiAgfSwKICBtaXhpbnM6IFtNZEZpZWxkTWl4aW5dLAogIGluamVjdDogWydNZEZpZWxkJ10sCiAgbWV0aG9kczogewogICAgZ2V0TXVsdGlwbGVOYW1lOiBmdW5jdGlvbiBnZXRNdWx0aXBsZU5hbWUoZmlsZXMpIHsKICAgICAgdmFyIG5hbWVzID0gW107CgogICAgICBfdG9Db25zdW1hYmxlQXJyYXkoZmlsZXMpLmZvckVhY2goZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgbmFtZSA9IF9yZWYubmFtZTsKICAgICAgICByZXR1cm4gbmFtZXMucHVzaChuYW1lKTsKICAgICAgfSk7CgogICAgICByZXR1cm4gbmFtZXMuam9pbignLCAnKTsKICAgIH0sCiAgICBnZXRGaWxlTmFtZTogZnVuY3Rpb24gZ2V0RmlsZU5hbWUoZmlsZXMsIHRhcmdldCkgewogICAgICBpZiAoIWZpbGVzIHx8IGZpbGVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHJldHVybiB0YXJnZXQudmFsdWUuc3BsaXQoJ1xcJykucG9wKCk7CiAgICAgIH0KCiAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAxKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TXVsdGlwbGVOYW1lKGZpbGVzKTsKICAgICAgfQoKICAgICAgaWYgKGZpbGVzLmxlbmd0aCA9PT0gMSkgewogICAgICAgIHJldHVybiBmaWxlc1swXS5uYW1lOwogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0sCiAgICBvcGVuUGlja2VyOiBmdW5jdGlvbiBvcGVuUGlja2VyKCkgewogICAgICB0aGlzLm9uRm9jdXMoKTsKICAgICAgdGhpcy4kcmVmcy5pbnB1dEZpbGUuY2xpY2soKTsKICAgIH0sCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoJGV2ZW50KSB7CiAgICAgIHRoaXMub25GaWxlU2VsZWN0ZWQoJGV2ZW50KTsKICAgIH0sCiAgICBvbkZpbGVTZWxlY3RlZDogZnVuY3Rpb24gb25GaWxlU2VsZWN0ZWQoX3JlZjIpIHsKICAgICAgdmFyIHRhcmdldCA9IF9yZWYyLnRhcmdldCwKICAgICAgICAgIGRhdGFUcmFuc2ZlciA9IF9yZWYyLmRhdGFUcmFuc2ZlcjsKICAgICAgdmFyIGZpbGVzID0gdGFyZ2V0LmZpbGVzIHx8IGRhdGFUcmFuc2Zlci5maWxlczsKICAgICAgdGhpcy5tb2RlbCA9IHRoaXMuZ2V0RmlsZU5hbWUoZmlsZXMsIHRhcmdldCk7CiAgICAgIHRoaXMuJGVtaXQoJ21kLWNoYW5nZScsIGZpbGVzIHx8IHRhcmdldC52YWx1ZSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5NZEZpZWxkLmZpbGUgPSB0cnVlOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMuTWRGaWVsZC5maWxlID0gZmFsc2U7CiAgfQp9Ow=="},{"version":3,"sources":["MdFile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAiBA,OAAA,MAAA,MAAA,mBAAA;AACA,OAAA,UAAA,MAAA,uBAAA;AACA,OAAA,YAAA,MAAA,iBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA,GAFA;AAKA,EAAA,KAAA,EAAA;AACA,IAAA,EAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,aAAA,MAAA,EAAA;AAAA;AAFA,KADA;AAKA,IAAA,IAAA,EAAA;AALA,GALA;AAYA,EAAA,QAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,aAAA;AACA,uBAAA,KAAA;AADA,OAAA;AAGA;AALA,GAZA;AAmBA,EAAA,MAAA,EAAA,CAAA,YAAA,CAnBA;AAoBA,EAAA,MAAA,EAAA,CAAA,SAAA,CApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,2BACA,KADA,EACA;AACA,UAAA,KAAA,GAAA,EAAA;;AAEA,yBAAA,KAAA,EAAA,OAAA,CAAA;AAAA,YAAA,IAAA,QAAA,IAAA;AAAA,eAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AAAA,OAAA;;AAEA,aAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AACA,KAPA;AAQA,IAAA,WARA,uBAQA,KARA,EAQA,MARA,EAQA;AACA,UAAA,CAAA,KAAA,IAAA,KAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,eAAA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,IAAA,EAAA,GAAA,EAAA;AACA;;AAEA,UAAA,KAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,eAAA,KAAA,eAAA,CAAA,KAAA,CAAA;AACA;;AAEA,UAAA,KAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,eAAA,KAAA,CAAA,CAAA,CAAA,CAAA,IAAA;AACA;;AAEA,aAAA,IAAA;AACA,KAtBA;AAuBA,IAAA,UAvBA,wBAuBA;AACA,WAAA,OAAA;AACA,WAAA,KAAA,CAAA,SAAA,CAAA,KAAA;AACA,KA1BA;AA2BA,IAAA,QA3BA,oBA2BA,MA3BA,EA2BA;AACA,WAAA,cAAA,CAAA,MAAA;AACA,KA7BA;AA8BA,IAAA,cA9BA,iCA8BA;AAAA,UAAA,MAAA,SAAA,MAAA;AAAA,UAAA,YAAA,SAAA,YAAA;AACA,UAAA,KAAA,GAAA,MAAA,CAAA,KAAA,IAAA,YAAA,CAAA,KAAA;AAEA,WAAA,KAAA,GAAA,KAAA,WAAA,CAAA,KAAA,EAAA,MAAA,CAAA;AACA,WAAA,KAAA,CAAA,WAAA,EAAA,KAAA,IAAA,MAAA,CAAA,KAAA;AACA;AAnCA,GArBA;AA0DA,EAAA,OA1DA,qBA0DA;AACA,SAAA,OAAA,CAAA,IAAA,GAAA,IAAA;AACA,GA5DA;AA6DA,EAAA,aA7DA,2BA6DA;AACA,SAAA,OAAA,CAAA,IAAA,GAAA,KAAA;AACA;AA/DA,CAAA","sourcesContent":["<template>\n  <div class=\"md-file\">\n    <md-file-icon class=\"md-file-icon\" :class=\"iconClass\" @click.native=\"openPicker\" />\n\n    <input\n      class=\"md-input\"\n      readonly\n      v-model=\"model\"\n      v-bind=\"{ disabled, required, placeholder }\"\n      @click=\"openPicker\"\n      @blur=\"onBlur\">\n\n    <input type=\"file\" ref=\"inputFile\" v-bind=\"attributes\" v-on=\"$listeners\" @change=\"onChange\" />\n  </div>\n</template>\n\n<script>\n  import MdUuid from 'core/utils/MdUuid'\n  import MdFileIcon from 'core/icons/MdFileIcon'\n  import MdFieldMixin from '../MdFieldMixin'\n\n  export default {\n    name: 'MdFile',\n    components: {\n      MdFileIcon\n    },\n    props: {\n      id: {\n        type: String,\n        default: () => 'md-file-' + MdUuid()\n      },\n      name: String\n    },\n    computed: {\n      iconClass () {\n        return {\n          'md-disabled': this.disabled\n        }\n      }\n    },\n    mixins: [MdFieldMixin],\n    inject: ['MdField'],\n    methods: {\n      getMultipleName (files) {\n        let names = [];\n\n        [...files].forEach(({ name }) => names.push(name))\n\n        return names.join(', ')\n      },\n      getFileName (files, target) {\n        if (!files || files.length === 0) {\n          return target.value.split('\\\\').pop()\n        }\n\n        if (files.length > 1) {\n          return this.getMultipleName(files)\n        }\n\n        if (files.length === 1) {\n          return files[0].name\n        }\n\n        return null\n      },\n      openPicker () {\n        this.onFocus()\n        this.$refs.inputFile.click()\n      },\n      onChange ($event) {\n        this.onFileSelected($event)\n      },\n      onFileSelected ({ target, dataTransfer }) {\n        const files = target.files || dataTransfer.files\n\n        this.model = this.getFileName(files, target)\n        this.$emit('md-change', files || target.value)\n      }\n    },\n    created () {\n      this.MdField.file = true\n    },\n    beforeDestroy () {\n      this.MdField.file = false\n    }\n  }\n</script>\n\n<style lang=\"scss\">\n  .md-file {\n    display: flex;\n    flex: 1;\n\n    input[type=\"file\"] {\n      width: 1px;\n      height: 1px;\n      margin: -1px;\n      padding: 0;\n      overflow: hidden;\n      position: absolute;\n      clip: rect(0 0 0 0);\n      border: 0;\n    }\n\n    .md-file-icon {\n      &:not(.md-disabled) {\n        cursor: pointer;\n      }\n\n      &.md-disabled {\n        pointer-events: none;\n      }\n    }\n  }\n</style>\n"],"sourceRoot":"node_modules/vue-material/src/components/MdField/MdFile"}]}