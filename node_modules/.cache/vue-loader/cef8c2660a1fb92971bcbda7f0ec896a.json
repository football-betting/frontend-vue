{"remainingRequest":"/Users/kaiurban/Projekte/own_projects/vue-website/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kaiurban/Projekte/own_projects/vue-website/node_modules/vue-material/src/components/MdCard/MdCardMedia/MdCardMediaCover.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kaiurban/Projekte/own_projects/vue-website/node_modules/vue-material/src/components/MdCard/MdCardMedia/MdCardMediaCover.vue","mtime":499162500000},{"path":"/Users/kaiurban/Projekte/own_projects/vue-website/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kaiurban/Projekte/own_projects/vue-website/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/kaiurban/Projekte/own_projects/vue-website/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kaiurban/Projekte/own_projects/vue-website/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTWRDYXJkTWVkaWFDb3ZlcicsCiAgcHJvcHM6IHsKICAgIG1kVGV4dFNjcmltOiBCb29sZWFuLAogICAgbWRTb2xpZDogQm9vbGVhbgogIH0sCiAgZGF0YTogKCkgPT4gKHsKICAgIGJhY2tkcm9wQmFja2dyb3VuZDoge30KICB9KSwKICBjb21wdXRlZDogewogICAgY292ZXJDbGFzc2VzICgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAnbWQtdGV4dC1zY3JpbSc6IHRoaXMubWRUZXh0U2NyaW0sCiAgICAgICAgJ21kLXNvbGlkJzogdGhpcy5tZFNvbGlkCiAgICAgIH0KICAgIH0sCiAgICBjb3ZlclN0eWxlcyAoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgYmFja2dyb3VuZDogdGhpcy5iYWNrZHJvcEJhY2tncm91bmQKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYXBwbHlTY3JpbUNvbG9yIChkYXJrbmVzcykgewogICAgICBpZiAodGhpcy4kcmVmcy5iYWNrZHJvcCkgewogICAgICAgIHRoaXMuYmFja2Ryb3BCYWNrZ3JvdW5kID0gYGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sIHJnYmEoMCwgMCwgMCwgMCkgMjAlLCByZ2JhKDAsIDAsIDAsICR7ZGFya25lc3MgLyAyfSkgNjYlLCByZ2JhKDAsIDAsIDAsICR7ZGFya25lc3N9KSAxMDAlKWAKICAgICAgfQogICAgfSwKICAgIGFwcGx5U29saWRDb2xvciAoZGFya25lc3MpIHsKICAgICAgbGV0IGFyZWEgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCcubWQtY2FyZC1hcmVhJykKCiAgICAgIGlmIChhcmVhKSB7CiAgICAgICAgYXJlYS5zdHlsZS5iYWNrZ3JvdW5kID0gYHJnYmEoMCwgMCwgMCwgJHtkYXJrbmVzc30pYAogICAgICB9CiAgICB9LAogICAgZ2V0SW1hZ2VMaWdodG5lc3MgKGltYWdlLCBvbkxvYWQsIG9uRXJyb3IpIHsKICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpCgogICAgICBpbWFnZS5jcm9zc09yaWdpbiA9ICdBbm9ueW1vdXMnCgogICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgbGV0IGNvbG9yU3VtID0gMAogICAgICAgIGxldCBjdHgKICAgICAgICBsZXQgaW1hZ2VEYXRhCiAgICAgICAgbGV0IGltYWdlTWV0YWRhdGEKICAgICAgICBsZXQgcgogICAgICAgIGxldCBnCiAgICAgICAgbGV0IGIKICAgICAgICBsZXQgYXZlcmFnZQoKICAgICAgICBjYW52YXMud2lkdGggPSB0aGlzLndpZHRoCiAgICAgICAgY2FudmFzLmhlaWdodCA9IHRoaXMuaGVpZ2h0CiAgICAgICAgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJykKCiAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLCAwLCAwKQoKICAgICAgICBpbWFnZURhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCkKICAgICAgICBpbWFnZU1ldGFkYXRhID0gaW1hZ2VEYXRhLmRhdGEKCiAgICAgICAgZm9yIChsZXQgeCA9IDAsIGxlbiA9IGltYWdlTWV0YWRhdGEubGVuZ3RoOyB4IDwgbGVuOyB4ICs9IDQpIHsKICAgICAgICAgIHIgPSBpbWFnZU1ldGFkYXRhW3hdCiAgICAgICAgICBnID0gaW1hZ2VNZXRhZGF0YVt4ICsgMV0KICAgICAgICAgIGIgPSBpbWFnZU1ldGFkYXRhW3ggKyAyXQoKICAgICAgICAgIGF2ZXJhZ2UgPSBNYXRoLmZsb29yKChyICsgZyArIGIpIC8gMykKICAgICAgICAgIGNvbG9yU3VtICs9IGF2ZXJhZ2UKICAgICAgICB9CgogICAgICAgIG9uTG9hZChNYXRoLmZsb29yKGNvbG9yU3VtIC8gKHRoaXMud2lkdGggKiB0aGlzLmhlaWdodCkpKQogICAgICB9CgogICAgICBpbWFnZS5vbmVycm9yID0gb25FcnJvcgogICAgfQogIH0sCiAgbW91bnRlZCAoKSB7CiAgICBjb25zdCBhcHBseUJhY2tncm91bmQgPSAoZGFya25lc3MgPSAwLjYpID0+IHsKICAgICAgaWYgKHRoaXMubWRUZXh0U2NyaW0pIHsKICAgICAgICB0aGlzLmFwcGx5U2NyaW1Db2xvcihkYXJrbmVzcykKICAgICAgfSBlbHNlIGlmICh0aGlzLm1kU29saWQpIHsKICAgICAgICB0aGlzLmFwcGx5U29saWRDb2xvcihkYXJrbmVzcykKICAgICAgfQogICAgfQogICAgbGV0IGltYWdlID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcignaW1nJykKCiAgICBpZiAoaW1hZ2UgJiYgKHRoaXMubWRUZXh0U2NyaW0gfHwgdGhpcy5tZFNvbGlkKSkgewogICAgICB0aGlzLmdldEltYWdlTGlnaHRuZXNzKGltYWdlLCAobGlnaHRuZXNzKSA9PiB7CiAgICAgICAgbGV0IGxpbWl0ID0gMjU2CiAgICAgICAgbGV0IGRhcmtuZXNzID0gKE1hdGguYWJzKGxpbWl0IC0gbGlnaHRuZXNzKSAqIDEwMCAvIGxpbWl0ICsgMTUpIC8gMTAwCgogICAgICAgIGlmIChkYXJrbmVzcyA+PSAwLjcpIHsKICAgICAgICAgIGRhcmtuZXNzID0gMC43CiAgICAgICAgfQoKICAgICAgICBhcHBseUJhY2tncm91bmQoZGFya25lc3MpCiAgICAgIH0sIGFwcGx5QmFja2dyb3VuZCkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["MdCardMediaCover.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"MdCardMediaCover.vue","sourceRoot":"node_modules/vue-material/src/components/MdCard/MdCardMedia","sourcesContent":["<template>\n  <div class=\"md-card-media-cover\" :class=\"coverClasses\">\n    <slot />\n    <div class=\"md-card-backdrop\" :style=\"coverStyles\" v-if=\"mdTextScrim\" ref=\"backdrop\"></div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'MdCardMediaCover',\n    props: {\n      mdTextScrim: Boolean,\n      mdSolid: Boolean\n    },\n    data: () => ({\n      backdropBackground: {}\n    }),\n    computed: {\n      coverClasses () {\n        return {\n          'md-text-scrim': this.mdTextScrim,\n          'md-solid': this.mdSolid\n        }\n      },\n      coverStyles () {\n        return {\n          background: this.backdropBackground\n        }\n      }\n    },\n    methods: {\n      applyScrimColor (darkness) {\n        if (this.$refs.backdrop) {\n          this.backdropBackground = `linear-gradient(to bottom, rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, ${darkness / 2}) 66%, rgba(0, 0, 0, ${darkness}) 100%)`\n        }\n      },\n      applySolidColor (darkness) {\n        let area = this.$el.querySelector('.md-card-area')\n\n        if (area) {\n          area.style.background = `rgba(0, 0, 0, ${darkness})`\n        }\n      },\n      getImageLightness (image, onLoad, onError) {\n        let canvas = document.createElement('canvas')\n\n        image.crossOrigin = 'Anonymous'\n\n        image.onload = function () {\n          let colorSum = 0\n          let ctx\n          let imageData\n          let imageMetadata\n          let r\n          let g\n          let b\n          let average\n\n          canvas.width = this.width\n          canvas.height = this.height\n          ctx = canvas.getContext('2d')\n\n          ctx.drawImage(this, 0, 0)\n\n          imageData = ctx.getImageData(0, 0, canvas.width, canvas.height)\n          imageMetadata = imageData.data\n\n          for (let x = 0, len = imageMetadata.length; x < len; x += 4) {\n            r = imageMetadata[x]\n            g = imageMetadata[x + 1]\n            b = imageMetadata[x + 2]\n\n            average = Math.floor((r + g + b) / 3)\n            colorSum += average\n          }\n\n          onLoad(Math.floor(colorSum / (this.width * this.height)))\n        }\n\n        image.onerror = onError\n      }\n    },\n    mounted () {\n      const applyBackground = (darkness = 0.6) => {\n        if (this.mdTextScrim) {\n          this.applyScrimColor(darkness)\n        } else if (this.mdSolid) {\n          this.applySolidColor(darkness)\n        }\n      }\n      let image = this.$el.querySelector('img')\n\n      if (image && (this.mdTextScrim || this.mdSolid)) {\n        this.getImageLightness(image, (lightness) => {\n          let limit = 256\n          let darkness = (Math.abs(limit - lightness) * 100 / limit + 15) / 100\n\n          if (darkness >= 0.7) {\n            darkness = 0.7\n          }\n\n          applyBackground(darkness)\n        }, applyBackground)\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\">\n  .md-card-media-cover {\n    position: relative;\n    color: #fff;\n\n    &.md-solid {\n      .md-card-area {\n        background-color: rgba(#000, .54);\n      }\n    }\n\n    &.md-text-scrim {\n      .md-card-backdrop {\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        z-index: 1;\n      }\n    }\n\n    .md-card-area {\n      display: flex;\n      flex-direction: column;\n      position: absolute;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      z-index: 2;\n    }\n\n    .md-card-header {\n      display: flex;\n      flex-direction: column;\n\n      + .md-card-actions {\n        padding-top: 0;\n      }\n    }\n\n    .md-subhead {\n      opacity: 1;\n    }\n\n    .md-card-header,\n    .md-card-actions {\n      .md-button:not(.md-primary):not(.md-accent) {\n        color: #fff !important;\n\n        &.md-icon-button {\n          .md-icon {\n            color: #fff !important;\n          }\n        }\n      }\n    }\n  }\n</style>\n"]}]}